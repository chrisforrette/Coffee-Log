{% extends "master.html" %}

{% block master_page_title %}{{ block.super }} | Place | {{ coffee_place.name }}{% endblock %}

{% block master_js %}
    {{ block.super }}
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
    <script type="text/javascript" charset="utf-8">
        
        $(window).load(function() {
            var oMap;
            var oLatLng = new google.maps.LatLng({{ geo_point.1 }}, {{ geo_point.0 }});
            console.log(oLatLng);
            var oOpt = {
                'zoom': 14,
                'center': oLatLng,
                'mapTypeId': google.maps.MapTypeId.ROADMAP
            };
            oMap = new google.maps.Map(document.getElementById('coffee-place-map'), oOpt);
            
            var oMarker = new google.maps.Marker({
                'map': oMap,
                'position': oLatLng
            });
            
            console.log(oMap);
        });
        
    </script>
{% endblock %}

{% block master_content %}
    <h2>{{ coffee_place.name }}</h2>
    <hr />
    <div class="content-inset">
        <div id="coffee-place-map">

        </div>
        <p>
            {{ coffee_place.address }}<br />
            {{ coffee_place.city }}, {{ coffee_place.state }} {{ coffee_place.zip }}
        </p>
        <p>
            <a href="{{ coffee_place.url }}" target="_blank">{{ coffee_place.url }}</a>
        </p>
    </div>
{% endblock %}